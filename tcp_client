import socket

HOST = '127.0.0.1'
PORT = 1738

def main():
	with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as client_socket:
		client_socket.connect((HOST,PORT))
		print(f"Connected to Server at {HOST}:{PORT}")
		print("\nType Your messages, ID is auto implemented")
		print("type 'quit' to exit.\n")

		client_id = input("enter your CLIENT_ID: ").strip()
		if not client_id:
			client_id= "CLIENT_0"
		
		while True:
			msg = input("Message: ")
			if msg.lower() =="quit":
				print("Closing connection...")
				break

			formatted_msg=f"{client_id}:{msg}"

			client_socket.sendall(formatted_msg.encode("utf-8"))
			data = client_socket.recv(4096)
			if not data:
				print("Server Closed Connection.")
				break


			print( data.decode("utf-8"))


if __name__== "__main__":
	main()
